<!DOCTYPE html>
<html>
<head>
	<title>pongwars</title>

	<script type="text/javascript" src="pong/Pong.js"></script>
	<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
	<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
	<script src="//code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
	<link rel="stylesheet" type="text/css" href="styles.css">
	<script type="text/javascript">

		window.onload = function () {
			var user = "user";
			var pong = new Pong(document.getElementById('pong'));
			var socket = io(':3000');
		
    			socket.on('connect',function() {
				socket.emit("message", "{user = kay }");
			 });	

			function resize () {
				var gameHeight = window.innerHeight - 40 + 'px';
				document.getElementById('pong').style.height = gameHeight;

				pong.resize();
			}

			resize();
			window.onresize = resize;

			pong.players.a.addControls({
				'up': 'w',
				'down': 's',
			});

			pong.players.b.addControls({
				'up': 'up',
				'down': 'down',
			});

			pong.on('update', function () {

				socket.emit('message', "pos:"+pong.players.a.y);

				 //if (pong.players.b.y < pong.balls[0].y) {
			        //	pong.players.b.move(1);
				// } else if (pong.players.b.y > pong.balls[0].y) {
	        		//	pong.players.b.move(-1);
				// }
    			 })

			
		};

	 $(function() {
	    $( "#dialog-confirm" ).dialog({
	      resizable: false,
	      height:140,
	      modal: true,
	      buttons: {
	        "Delete all items": function() {
	          $( this ).dialog( "close" );
	        },
	        Cancel: function() {
	          $( this ).dialog( "close" );
	        }
	      }
	    });
	  });

	</script>
</head>
<body>
	<div id="pong"></div>
	<div class="panel">
		Move with [ UP ], [ DOWN ]
	</div>

	<div id="dialog-confirm" title="Empty the recycle bin?">
		  <p><span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>These items will be permanently deleted and cannot be recovered. Are you sure?</p>
	</div>
 
	<p>Sed vel diam id libero <a href="http://example.com">rutrum convallis</a>. Donec aliquet leo vel magna. Phasellus rhoncus faucibus ante. Etiam bibendum, enim faucibus aliquet rhoncus, arcu felis ultricies neque, sit amet auctor elit eros a lectus.</p>
 

</body>
</html>
